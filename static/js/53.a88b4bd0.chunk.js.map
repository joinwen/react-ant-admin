{"version":3,"sources":["views/table/condition-table/assets/effect/hook-search.js"],"names":["useHookSearch","fn","useState","data","setData","total","setTotal","page","setPage","pageSize","setPageSize","loading","setLoading","handleSearch","useCallback","params","then","res","catch","error","size"],"mappings":"8JAsCeA,UArCf,SAAuBC,GACrB,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,OACsBF,mBAAS,IAD/B,mBACGG,EADH,KACUC,EADV,OAEoBJ,mBAAS,GAF7B,mBAEGK,EAFH,KAESC,EAFT,OAG4BN,mBAAS,IAHrC,mBAGGO,EAHH,KAGaC,EAHb,OAI0BR,oBAAS,GAJnC,mBAIGS,EAJH,KAIYC,EAJZ,KAKEC,EAAeC,uBACb,SAACC,GACCH,GAAW,GACXX,EAAG,2BAAKc,GAAN,IAAcR,OAAME,cACnBO,MAAK,SAACC,GACLb,EAAQa,EAAId,MACZG,EAASW,EAAIZ,OACbO,GAAW,MAEZM,OAAM,SAACC,GACNP,GAAW,QAGjB,CAACX,EAAIM,EAAME,IAOf,MAAO,CACLN,EACAE,EACAE,EACAE,EACAE,EAVmB,SAACJ,GAAD,OAAUC,EAAQD,IACd,SAACA,EAAMa,GAC5BV,EAAYU,GACZZ,EAAQD,IAUVM","file":"static/js/53.a88b4bd0.chunk.js","sourcesContent":["import { useState, useCallback } from \"react\";\r\nfunction useHookSearch(fn) {\r\n  const [data, setData] = useState([]),\r\n    [total, setTotal] = useState([]),\r\n    [page, setPage] = useState(1),\r\n    [pageSize, setPageSize] = useState(10),\r\n    [loading, setLoading] = useState(false),\r\n    handleSearch = useCallback(\r\n      (params) => {\r\n        setLoading(true);\r\n        fn({ ...params, page, pageSize })\r\n          .then((res) => {\r\n            setData(res.data);\r\n            setTotal(res.total);\r\n            setLoading(false);\r\n          })\r\n          .catch((error) => {\r\n            setLoading(false);\r\n          });\r\n      },\r\n      [fn, page, pageSize]\r\n    ),\r\n    handlePageChange = (page) => setPage(page),\r\n    handlePageSizeChange = (page, size) => {\r\n      setPageSize(size);\r\n      setPage(page);\r\n    };\r\n  return [\r\n    data,\r\n    total,\r\n    page,\r\n    pageSize,\r\n    loading,\r\n    handlePageChange,\r\n    handlePageSizeChange,\r\n    handleSearch,\r\n  ];\r\n}\r\nexport default useHookSearch;\r\n"],"sourceRoot":""}