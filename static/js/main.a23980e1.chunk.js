(this["webpackJsonpreact-ant-admin"]=this["webpackJsonpreact-ant-admin"]||[]).push([[21],{103:function(e,t,n){"use strict";t.a=function(e){return e.children}},105:function(e,t,n){"use strict";var c=n(23),r=n(159),a=n(160),i=n(165),s=n(163),o=n(0),u=n.n(o),l=n(18),d=n(42),b=n(51),j=n(225),f=n(132),p=n(16),h=n(108),m=n(5);var O=function(e){var t=e.name,n=h[t];return n?Object(m.jsx)(n,{}):null},x=n(220),v=n(26),g=x.a.SubMenu;function S(e){var t=e.hidden,n=e.name,c=e.icon,r=e.path,a=e.children,i=null;return i=a&&a.length>0?Object(m.jsx)(g,{icon:Object(m.jsx)(O,{name:c}),title:n,children:e.children.map((function(e){return S(e)}))},r):Object(m.jsx)(x.a.Item,{title:n,icon:Object(m.jsx)(O,{name:c}),children:Object(m.jsx)(v.b,{to:r,children:n})},r),t&&(i=null),i}var E=function(e){var t=e.collapsed;console.log(t);var n=Object(l.d)((function(e){return e.menu.menus})),c=n.filter((function(e){return e.children&&e.children.length>0})).map((function(e){return e.path})),r=Object(p.h)(),a=Object(o.useState)([r.pathname.match(/^(\/\w*)\/?/)[1]]),i=Object(f.a)(a,2),s=i[0],u=i[1];return Object(m.jsx)(x.a,{onOpenChange:function(e){var t=e.find((function(e){return-1===s.indexOf(e)}));-1===c.indexOf(t)?u(e):u(t?[t]:[])},openKeys:s,selectedKeys:[r.pathname],defaultSelectedKeys:[r.pathname],inlineCollapsed:t,theme:"dark",mode:"inline",children:n.map((function(e){return S(e)}))})};var N=function(){var e=Object(l.d)((function(e){return e.app.collapsed})),t=Object(l.d)((function(e){return e.app.mobile})),c=n(204);return Object(m.jsxs)("figure",{className:"side-logo",children:[Object(m.jsx)("img",{src:c.default,alt:""}),e&&!t?null:Object(m.jsx)("span",{children:"React Admin"})]})};var T=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.app.collapsed}));return Object(m.jsxs)(j.a,{placement:"left",closable:!1,onClose:function(){e(Object(d.a)(!1))},visible:t,children:[Object(m.jsx)(N,{}),Object(m.jsx)(E,{})]})},y=n(6),F=n.n(y);var L=function(e){var t=Object(l.d)((function(e){return e.app.sideFixed}));return Object(m.jsxs)("div",{className:F()({"side-pc":!0,"side-pc-fixed":t,"side-pc-shrink":e.collapsed}),children:[Object(m.jsx)("aside",{className:"side-pseudo ease-0.5"}),Object(m.jsxs)("aside",{className:"side-real ease-0.5",children:[Object(m.jsx)(N,{}),Object(m.jsx)(E,{collapsed:e.collapsed})]})]})},_=n(77),k=n(154),C=n(153);var w=function(e){var t=Object(l.d)((function(e){return e.app.headerFixed})),n=Object(l.d)((function(e){return e.app.mobile}));return Object(m.jsxs)("div",{className:F()({header:!0,"header-grow":e.collapsed,"header-fixed":t,"header-mobile":n}),children:[Object(m.jsx)("header",{className:"header-pseudo"}),Object(m.jsxs)("header",{className:"header-real",children:[Object(m.jsx)("div",{className:"header-left",children:u.a.createElement(e.collapsed?k.a:C.a,{className:"trigger",onClick:e.toggle})}),Object(m.jsx)("div",{className:"header-centre"}),Object(m.jsxs)("div",{className:"header-right",children:[Object(m.jsx)(_.a,{onClick:e.handleLogout,children:"\u9000\u51fa"}),Object(m.jsx)("span",{className:"m-x-1",children:e.nickname})]})]})]})};var I=function(e){return Object(m.jsx)("main",{children:e.children})};var A=function(){return Object(m.jsx)("footer",{children:"React Admin \xa92021 flywen.top"})},D=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).toggle=function(){e.props.SET_COLLAPSED(!e.props.collapsed)},e.handleLogout=function(){e.props.Logout().then((function(e){window.location.reload()}))},e}return Object(a.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("section",{id:"basic-layout",children:[this.props.mobile?Object(m.jsx)(T,{}):Object(m.jsx)(L,{collapsed:this.props.collapsed}),Object(m.jsxs)("section",{className:"section",children:[Object(m.jsx)(w,Object(c.a)({toggle:this.toggle,handleLogout:this.handleLogout},this.props)),Object(m.jsx)(I,{children:this.props.children}),Object(m.jsx)(A,{})]})]})}}]),n}(u.a.Component);t.a=Object(l.b)((function(e){return{collapsed:e.app.collapsed,nickname:e.user.nickname,mobile:e.app.mobile}}),{SET_COLLAPSED:d.a,Logout:b.b})(D)},106:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var c=n(38),r=function(){return function(e,t){var n=t().user.userInfo.routes;e(i(JSON.parse(JSON.stringify(n))))}},a=Object(c.c)({name:"router",initialState:{routes:JSON.parse(JSON.stringify([{path:"/private",component:"UserLayout",children:[{path:"/private/login",component:"private/login/Login",title:"\u767b\u5f55"}]}])),addRoutes:[]},reducers:{SET_ADD_ROUTES:function(e,t){e.addRoutes=t.payload,e.routes=e.routes.concat(e.addRoutes)}}}),i=(t.a=a.reducer,a.actions.SET_ADD_ROUTES)},124:function(e,t,n){"use strict";var c=n(16);t.a=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.some((function(t){var a=t.path?Object(c.f)(n,t):r.length?r[r.length-1].match:c.c.computeRootMatch(n);return a&&(r.push({route:t,match:a}),t.children&&e(t.children,n,r)),a})),r}},130:function(e,t,n){"use strict";var c=n(23),r=n(46),a=n(16),i=n(83),s=n(5);t.a=function(e){var t=e.children,n=Object(r.a)(e,["children"]);return Object(s.jsxs)(a.d,Object(c.a)(Object(c.a)({},n),{},{children:[t,Object(s.jsx)(a.b,{path:"*",children:Object(s.jsx)(i.default,{})})]}))}},131:function(e,t,n){"use strict";var c=n(23),r=n(46),a=n(93),i=n(16),s=n(32),o=n(5);t.a=function(e){var t=e.children,n=Object(r.a)(e,["children"]),u=null,l=n.meta,d=Object(i.h)();return u=!Object(a.a)()&&l&&l.isLogin?Object(o.jsx)(i.a,{to:"".concat(s.c,"?redirect=").concat(d.pathname)}):t,Object(o.jsx)(i.b,Object(c.a)(Object(c.a)({},n),{},{children:u}))}},142:function(e,t,n){"use strict";var c=n(23),r=n(46),a=n(16),i=n(53);var s=function(e){var t=i.a.getState().user.permissions;return t=t||[],!(e=e?e.split(","):void 0)||t.some((function(t){return e.includes(t)}))},o=n(86),u=n(5);t.a=function(e){var t=e.children,n=Object(r.a)(e,["children"]),i=n.permissions,l=null;return l=s(i)?t:Object(u.jsx)(o.default,{}),Object(u.jsx)(a.b,Object(c.a)(Object(c.a)({},n),{},{children:l}))}},149:function(e,t,n){},150:function(e,t,n){},193:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/logo.698a78d0.png"},205:function(e,t,n){},206:function(e,t,n){var c={"./exception/Exception":[180,9,11],"./exception/Exception.js":[180,9,11],"./exception/error/Error":[173,9,12],"./exception/error/Error.js":[173,9,12],"./exception/error/Error.scss":[218,7,24],"./exception/forbidden/Forbidden":[86,9],"./exception/forbidden/Forbidden.js":[86,9],"./exception/forbidden/Forbidden.scss":[150,7],"./exception/not-found/NotFound":[83,9],"./exception/not-found/NotFound.js":[83,9],"./exception/not-found/NotFound.scss":[149,7],"./home/Home":[181,9,9],"./home/Home.js":[181,9,9],"./private/login/Login":[182,9,0,1,8],"./private/login/Login.js":[182,9,0,1,8],"./private/password/Password":[183,9,15],"./private/password/Password.js":[183,9,15],"./result/Result":[184,9,2,13],"./result/Result.js":[184,9,2,13],"./result/failure/Failure":[174,9,2,16],"./result/failure/Failure.js":[174,9,2,16],"./result/success/Success":[175,9,2,17],"./result/success/Success.js":[175,9,2,17],"./table/Table":[185,9,0,1,2,3,10],"./table/Table.js":[185,9,0,1,2,3,10],"./table/advanced-table/AdvancedTable":[177,9,0,1,6],"./table/advanced-table/AdvancedTable.js":[177,9,0,1,6],"./table/advanced-table/AdvancedTable.scss":[222,7,25],"./table/advanced-table/components/FormCard":[170,9,0,14],"./table/advanced-table/components/FormCard.js":[170,9,0,14],"./table/basic-table/BasicTable":[176,9,0,3,4,7],"./table/basic-table/BasicTable.js":[176,9,0,3,4,7],"./table/step-table/StepTable":[178,9,0,1,2,3,5],"./table/step-table/StepTable.js":[178,9,0,1,2,3,5],"./table/step-table/StepTable.scss":[219,7,26],"./table/step-table/components/FirstForm":[167,9,0,1,3,18],"./table/step-table/components/FirstForm.js":[167,9,0,1,3,18],"./table/step-table/components/SecondForm":[168,9,0,1,19],"./table/step-table/components/SecondForm.js":[168,9,0,1,19],"./table/step-table/components/ThirdForm":[169,9,2,20],"./table/step-table/components/ThirdForm.js":[169,9,2,20]};function r(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],r=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(r,t[1])}))}r.keys=function(){return Object.keys(c)},r.id=206,e.exports=r},212:function(e,t){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(21),i=n.n(a),s=n(26),o=n(79),u=n(23),l=n(46),d=n(130),b=n(131),j=n(142),f=n(105),p=n(48),h=n(103),m=n(5);var O=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t?Object(m.jsx)(d.a,Object(u.a)(Object(u.a)({},c),{},{children:t.map((function(t,r){var a=t.component,i=Object(l.a)(t,["component"]);return Object(m.jsx)(o.a,Object(u.a)(Object(u.a)({},i),{},{children:Object(m.jsx)(b.a,{meta:i.meta,children:Object(m.jsx)(j.a,{meta:i.meta,children:Object(m.jsx)(a,{children:e(i.children,n,c)})})})}),r)}))})):null};Object(p.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,182))})),f.a,Object(p.a)((function(){return n.e(9).then(n.bind(null,181))})),h.a,Object(p.a)((function(){return Promise.all([n.e(0),n.e(3),n.e(4),n.e(7)]).then(n.bind(null,176))})),Object(p.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(5)]).then(n.bind(null,178))})),Object(p.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,177))}));var x=function(){return Object(m.jsx)(s.a,{keyLength:12,basename:"/react-ant-admin",children:Object(m.jsx)(o.a,{children:function(e){return O(e)}})})},v=n(18),g=n(53),S=n(42),E=n(208);[["xs","480px"],["sm","576px"],["md","768px"],["lg","995px"],["xl","1200px"],["xxl","1600px"]].reduceRight((function(e,t){return e?E.register("screen and (min-width: ".concat(t[1],") and (max-width: ").concat(e[1],")"),{match:function(){g.a.dispatch(Object(S.b)(t[0]))}}):E.register("screen and (min-width: ".concat(t[1],")"),{match:function(){g.a.dispatch(Object(S.b)(t[0]))}}),t}),void 0);n(212),n(213),n(214),n(215),n(216);var N=function(e){e&&e instanceof Function&&n.e(27).then(n.bind(null,336)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(v.a,{store:g.a,children:Object(m.jsx)(x,{})})}),document.getElementById("root")),N()},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a}));var c="access-token",r="/private/login",a="/home"},42:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var c=n(38),r=Object(c.c)({name:"app",initialState:{size:"xl",mobile:!1,collapsed:!1,headerFixed:!1,sideFixed:!0},reducers:{SET_SIZE:function(e,t){e.size=t.payload,console.log(e.size),e.mobile="xs"===e.size},SET_MOBILE:function(e,t){e.mobile=t.payload},SET_COLLAPSED:function(e,t){e.collapsed=t.payload},SET_HEADER_FIXED:function(e,t){e.headerFixed=t.payload},SET_SIDE_FIXED:function(e,t){e.sideFixed=t.payload}}}),a=r.actions,i=a.SET_SIZE,s=(a.SET_MOBILE,a.SET_COLLAPSED);a.SET_HEADER_FIXED,a.SET_SIDE_FIXED;t.c=r.reducer},51:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var c=n(114),r=n.n(c),a=n(158),i=n(38),s=n(32),o=Object(i.b)("user/permissions",function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){setTimeout((function(){n.e(28).then(n.t.bind(null,221,3)).then((function(t){e(JSON.parse(JSON.stringify(t)))})).catch((function(e){t(e)}))}),1e3)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=function(e){return function(t){return new Promise((function(t,n){setTimeout((function(){var c=e.username,r=e.password;c&&r&&"admin"!==c?(localStorage.setItem(s.a,Date.now()),t(!0)):n(!1)}))}))}},l=function(){return function(e){return e(j("blocking")),localStorage.clear(),new Promise((function(e,t){setTimeout((function(){try{e()}catch(n){t(n)}}))}))}},d=Object(i.c)({name:"user",initialState:{nickname:"",userInfo:null,permissions:[],status:"blocking"},reducers:{SET_PERMISSIONS:function(e,t){e.permissions=t.payload},SET_STATUS:function(e,t){e.status=t.payload},SET_NICKNAME:function(e,t){e.nickname=t.payload}},extraReducers:function(e){e.addCase(o.pending,(function(e){e.status="pending"})).addCase(o.fulfilled,(function(e,t){e.userInfo=t.payload,e.permissions=t.payload.permissions,e.nickname="\u8303\u5df4\u65af\u85e4",e.status="fulfilled"})).addCase(o.rejected,(function(e){e.status="rejected"}))}}),b=d.actions,j=b.SET_STATUS;b.SET_NICKNAME;t.c=d.reducer},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(38),r=n(42),a=n(51),i=n(96),s=n(106),o=Object(c.a)({reducer:{app:r.c,user:a.c,menu:i.a,router:s.a}})},79:function(e,t,n){"use strict";var c="React Admin",r=n(18),a=n(93),i=n(16),s=n(23),o=(n(193),n(224)),u=n(5);var l=function(e){return Object(u.jsxs)("div",{className:"Loading-Redirect",children:[Object(u.jsx)(i.a,Object(s.a)({},e)),Object(u.jsx)(o.a,{className:"spin",size:"large"})]})},d=n(51),b=n(32),j=n(166),f=n(72),p=n.n(f),h=(n(203),n(96)),m=n(106),O=n(48),x=n(105);n(205);var v=function(e){var t=e.children;return Object(u.jsx)("div",{className:"User-Layout",children:t})},g=n(103),S={BasicLayout:x.a,UserLayout:v,BlankLayout:g.a};var E=function e(t){return(t=JSON.parse(JSON.stringify(t))).map((function(t){var c=t.component;return Object.keys(S).includes(c)?t.component=S[c]:c&&(t.component=Object(O.a)((function(){return n(206)("./".concat(c))}))),t.children&&0!==t.children.length&&(t.children=e(t.children)),t}))},N=n(124);p.a.configure({showSpinner:!1});t.a=function(e){var t=Object(i.h)(),n=Object(r.c)(),s=e.title,o=Object(r.d)((function(e){return e.user.status})),f=Object(r.d)((function(e){return e.router.routes})),O=Object(r.d)((function(e){return e.router.addRoutes}));if(!e)return null;if(p.a.start(),setTimeout((function(){!function(e){document.title=e;var t=navigator.userAgent;if(/\bMicroMessenger\/([\d\\.]+)/.test(t)&&/ip(hone|od|ad)/i.test(t)){var n=document.createElement("iframe");n.src="/favicon.png",n.style.display="none",n.onload=function(){setTimeout((function(){n.remove()}),9)},document.body.appendChild(n)}}(s?"".concat(s,"-").concat(c):"".concat(c))})),Object(a.a)()){if(p.a.inc(.1),t.pathname===b.c||"/"===t.pathname)return Object(u.jsx)(i.a,{to:b.b});if("fulfilled"!==o){if("blocking"===o)return n(Object(d.d)()),Object(u.jsx)(l,{to:t.pathname});if("pending"===o)return Object(u.jsx)(l,{to:t.pathname});if("rejected"===o)return n(Object(d.b)()),j.a.error({message:"\u9519\u8bef",description:"\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25"}),Object(u.jsx)(l,{to:b.c})}else O&&0===O.length&&(n(Object(m.b)()),n(Object(h.b)()))}else{var x=Object(N.a)(f,t.pathname),v=x[x.length-1];if(!v||v.route.isLogin)return Object(u.jsx)(l,{to:"".concat(b.c,"?redirect=").concat(t.pathname)})}return p.a.done(),"function"===typeof e.children?e.children(E(f)):e.children}},83:function(e,t,n){"use strict";n.r(t);n(149);var c=n(77),r=n(84),a=n(85),i=n(5);t.default=function(){return Object(i.jsxs)("div",{className:"Not-Found",children:[Object(i.jsx)("div",{className:"bg"}),Object(i.jsx)("p",{className:"text",children:"\u9875\u9762\u672a\u627e\u5230\uff01\uff01\u8bf7\u70b9\u51fb\u8fd4\u56de\u9996\u9875\u6216\u8005\u5237\u65b0\u9875\u9762~"}),Object(i.jsxs)("section",{className:"btn-control",children:[Object(i.jsx)(c.a,{className:"btn-return",onClick:Object(r.a)(),children:"\u8fd4\u56de\u9996\u9875"}),Object(i.jsx)(c.a,{className:"btn-refresh",onClick:Object(a.a)(),children:"\u5237\u65b0\u9875\u9762"})]})]})}},84:function(e,t,n){"use strict";var c=n(16),r=n(32);t.a=function(){var e=Object(c.g)();return function(){return e.push(r.b)}}},85:function(e,t,n){"use strict";var c=n(16);t.a=function(){var e=Object(c.g)();return function(){return e.go(0)}}},86:function(e,t,n){"use strict";n.r(t);n(150);var c=n(77),r=n(85),a=n(84),i=n(5);t.default=function(){return Object(i.jsxs)("div",{className:"Forbidden",children:[Object(i.jsx)("div",{className:"bg"}),Object(i.jsx)("p",{className:"text",children:"\u9875\u9762\u6ca1\u6709\u8bbf\u95ee\u6743\u9650\uff01\uff01\u8bf7\u70b9\u51fb\u8fd4\u56de\u9996\u9875\u6216\u8005\u5237\u65b0\u9875\u9762"}),Object(i.jsxs)("section",{className:"btn-control",children:[Object(i.jsx)(c.a,{className:"btn-return",onClick:Object(a.a)(),children:"\u8fd4\u56de\u9996\u9875"}),Object(i.jsx)(c.a,{className:"btn-refresh",onClick:Object(r.a)(),children:"\u5237\u65b0\u9875\u9762"})]})]})}},93:function(e,t,n){"use strict";var c=n(32);t.a=function(){return!!localStorage.getItem(c.a)}},96:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var c=n(38),r=function(){return function(e,t){var n=t();e(i(n.user.userInfo.menus))}},a=Object(c.c)({name:"menu",initialState:{menus:[]},reducers:{SET_MENUS:function(e,t){e.menus=t.payload}}});t.a=a.reducer;var i=a.actions.SET_MENUS}},[[217,22,23]]]);
//# sourceMappingURL=main.a23980e1.chunk.js.map